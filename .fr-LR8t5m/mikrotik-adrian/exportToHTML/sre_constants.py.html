<html>
<head>
<title>sre_constants.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #606366; font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,128); }
.s1 { color: rgb(169,183,198); }
.s2 { color: rgb(98,151,85); font-style: italic; }
.s3 { color: rgb(104,151,187); }
.s4 { color: rgb(204,120,50); }
.s5 { color: rgb(106,135,89); }
.s6 { color: rgb(165,194,97); }
</style>
</head>
<BODY BGCOLOR="#2b2b2b">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
sre_constants.py</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">#</span><span class="s1"> 
</span><span class="s0"># Secret Labs' Regular Expression Engine</span><span class="s1"> 
</span><span class="s0">#</span><span class="s1"> 
</span><span class="s0"># various symbols used by the regular expression engine.</span><span class="s1"> 
</span><span class="s0"># run this script to update the _sre include files!</span><span class="s1"> 
</span><span class="s0">#</span><span class="s1"> 
</span><span class="s0"># Copyright (c) 1998-2001 by Secret Labs AB.  All rights reserved.</span><span class="s1"> 
</span><span class="s0">#</span><span class="s1"> 
</span><span class="s0"># See the sre.py file for information on usage and redistribution.</span><span class="s1"> 
</span><span class="s0">#</span><span class="s1"> 
 
</span><span class="s2">&quot;&quot;&quot;Internal support module for sre&quot;&quot;&quot;</span><span class="s1"> 
 
</span><span class="s0"># update when constants are added or removed</span><span class="s1"> 
 
MAGIC = </span><span class="s3">20140917</span><span class="s1"> 
 
</span><span class="s4">from </span><span class="s1">_sre </span><span class="s4">import </span><span class="s1">MAXREPEAT</span><span class="s4">, </span><span class="s1">MAXGROUPS 
 
</span><span class="s0"># SRE standard exception (access as sre.error)</span><span class="s1"> 
</span><span class="s0"># should this really be here?</span><span class="s1"> 
 
</span><span class="s4">class </span><span class="s1">error(Exception): 
    </span><span class="s4">def </span><span class="s1">__init__(self</span><span class="s4">, </span><span class="s1">msg</span><span class="s4">, </span><span class="s1">pattern=</span><span class="s4">None, </span><span class="s1">pos=</span><span class="s4">None</span><span class="s1">): 
        self.msg = msg 
        self.pattern = pattern 
        self.pos = pos 
        </span><span class="s4">if </span><span class="s1">pattern </span><span class="s4">is not None and </span><span class="s1">pos </span><span class="s4">is not None</span><span class="s1">: 
            msg = </span><span class="s5">'%s at position %d' </span><span class="s1">% (msg</span><span class="s4">, </span><span class="s1">pos) 
            </span><span class="s4">if </span><span class="s1">isinstance(pattern</span><span class="s4">, </span><span class="s1">str): 
                newline = </span><span class="s5">'</span><span class="s4">\n</span><span class="s5">'</span><span class="s1"> 
            </span><span class="s4">else</span><span class="s1">: 
                newline = </span><span class="s6">b'</span><span class="s4">\n</span><span class="s6">'</span><span class="s1"> 
            self.lineno = pattern.count(newline</span><span class="s4">, </span><span class="s3">0</span><span class="s4">, </span><span class="s1">pos) + </span><span class="s3">1</span><span class="s1"> 
            self.colno = pos - pattern.rfind(newline</span><span class="s4">, </span><span class="s3">0</span><span class="s4">, </span><span class="s1">pos) 
            </span><span class="s4">if </span><span class="s1">newline </span><span class="s4">in </span><span class="s1">pattern: 
                msg = </span><span class="s5">'%s (line %d, column %d)' </span><span class="s1">% (msg</span><span class="s4">, </span><span class="s1">self.lineno</span><span class="s4">, </span><span class="s1">self.colno) 
        </span><span class="s4">else</span><span class="s1">: 
            self.lineno = self.colno = </span><span class="s4">None</span><span class="s1"> 
        super().__init__(msg) 
 
 
</span><span class="s4">class </span><span class="s1">_NamedIntConstant(int): 
    </span><span class="s4">def </span><span class="s1">__new__(cls</span><span class="s4">, </span><span class="s1">value</span><span class="s4">, </span><span class="s1">name): 
        self = super(_NamedIntConstant</span><span class="s4">, </span><span class="s1">cls).__new__(cls</span><span class="s4">, </span><span class="s1">value) 
        self.name = name 
        </span><span class="s4">return </span><span class="s1">self 
 
    </span><span class="s4">def </span><span class="s1">__str__(self): 
        </span><span class="s4">return </span><span class="s1">self.name 
 
    __repr__ = __str__ 
 
MAXREPEAT = _NamedIntConstant(MAXREPEAT</span><span class="s4">, </span><span class="s5">'MAXREPEAT'</span><span class="s1">) 
 
</span><span class="s4">def </span><span class="s1">_makecodes(names): 
    names = names.strip().split() 
    items = [_NamedIntConstant(i</span><span class="s4">, </span><span class="s1">name) </span><span class="s4">for </span><span class="s1">i</span><span class="s4">, </span><span class="s1">name </span><span class="s4">in </span><span class="s1">enumerate(names)] 
    globals().update({item.name: item </span><span class="s4">for </span><span class="s1">item </span><span class="s4">in </span><span class="s1">items}) 
    </span><span class="s4">return </span><span class="s1">items 
 
</span><span class="s0"># operators</span><span class="s1"> 
</span><span class="s0"># failure=0 success=1 (just because it looks better that way :-)</span><span class="s1"> 
OPCODES = _makecodes(</span><span class="s5">&quot;&quot;&quot; 
    FAILURE SUCCESS 
 
    ANY ANY_ALL 
    ASSERT ASSERT_NOT 
    AT 
    BRANCH 
    CALL 
    CATEGORY 
    CHARSET BIGCHARSET 
    GROUPREF GROUPREF_EXISTS GROUPREF_IGNORE 
    IN IN_IGNORE 
    INFO 
    JUMP 
    LITERAL LITERAL_IGNORE 
    MARK 
    MAX_UNTIL 
    MIN_UNTIL 
    NOT_LITERAL NOT_LITERAL_IGNORE 
    NEGATE 
    RANGE 
    REPEAT 
    REPEAT_ONE 
    SUBPATTERN 
    MIN_REPEAT_ONE 
    RANGE_IGNORE 
 
    MIN_REPEAT MAX_REPEAT 
&quot;&quot;&quot;</span><span class="s1">) 
</span><span class="s4">del </span><span class="s1">OPCODES[-</span><span class="s3">2</span><span class="s1">:] </span><span class="s0"># remove MIN_REPEAT and MAX_REPEAT</span><span class="s1"> 
 
</span><span class="s0"># positions</span><span class="s1"> 
ATCODES = _makecodes(</span><span class="s5">&quot;&quot;&quot; 
    AT_BEGINNING AT_BEGINNING_LINE AT_BEGINNING_STRING 
    AT_BOUNDARY AT_NON_BOUNDARY 
    AT_END AT_END_LINE AT_END_STRING 
    AT_LOC_BOUNDARY AT_LOC_NON_BOUNDARY 
    AT_UNI_BOUNDARY AT_UNI_NON_BOUNDARY 
&quot;&quot;&quot;</span><span class="s1">) 
 
</span><span class="s0"># categories</span><span class="s1"> 
CHCODES = _makecodes(</span><span class="s5">&quot;&quot;&quot; 
    CATEGORY_DIGIT CATEGORY_NOT_DIGIT 
    CATEGORY_SPACE CATEGORY_NOT_SPACE 
    CATEGORY_WORD CATEGORY_NOT_WORD 
    CATEGORY_LINEBREAK CATEGORY_NOT_LINEBREAK 
    CATEGORY_LOC_WORD CATEGORY_LOC_NOT_WORD 
    CATEGORY_UNI_DIGIT CATEGORY_UNI_NOT_DIGIT 
    CATEGORY_UNI_SPACE CATEGORY_UNI_NOT_SPACE 
    CATEGORY_UNI_WORD CATEGORY_UNI_NOT_WORD 
    CATEGORY_UNI_LINEBREAK CATEGORY_UNI_NOT_LINEBREAK 
&quot;&quot;&quot;</span><span class="s1">) 
 
 
</span><span class="s0"># replacement operations for &quot;ignore case&quot; mode</span><span class="s1"> 
OP_IGNORE = { 
    GROUPREF: GROUPREF_IGNORE</span><span class="s4">,</span><span class="s1"> 
    IN: IN_IGNORE</span><span class="s4">,</span><span class="s1"> 
    LITERAL: LITERAL_IGNORE</span><span class="s4">,</span><span class="s1"> 
    NOT_LITERAL: NOT_LITERAL_IGNORE</span><span class="s4">,</span><span class="s1"> 
    RANGE: RANGE_IGNORE</span><span class="s4">,</span><span class="s1"> 
} 
 
AT_MULTILINE = { 
    AT_BEGINNING: AT_BEGINNING_LINE</span><span class="s4">,</span><span class="s1"> 
    AT_END: AT_END_LINE 
} 
 
AT_LOCALE = { 
    AT_BOUNDARY: AT_LOC_BOUNDARY</span><span class="s4">,</span><span class="s1"> 
    AT_NON_BOUNDARY: AT_LOC_NON_BOUNDARY 
} 
 
AT_UNICODE = { 
    AT_BOUNDARY: AT_UNI_BOUNDARY</span><span class="s4">,</span><span class="s1"> 
    AT_NON_BOUNDARY: AT_UNI_NON_BOUNDARY 
} 
 
CH_LOCALE = { 
    CATEGORY_DIGIT: CATEGORY_DIGIT</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_DIGIT: CATEGORY_NOT_DIGIT</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_SPACE: CATEGORY_SPACE</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_SPACE: CATEGORY_NOT_SPACE</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_WORD: CATEGORY_LOC_WORD</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_WORD: CATEGORY_LOC_NOT_WORD</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_LINEBREAK: CATEGORY_LINEBREAK</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_LINEBREAK: CATEGORY_NOT_LINEBREAK 
} 
 
CH_UNICODE = { 
    CATEGORY_DIGIT: CATEGORY_UNI_DIGIT</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_DIGIT: CATEGORY_UNI_NOT_DIGIT</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_SPACE: CATEGORY_UNI_SPACE</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_SPACE: CATEGORY_UNI_NOT_SPACE</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_WORD: CATEGORY_UNI_WORD</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_WORD: CATEGORY_UNI_NOT_WORD</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_LINEBREAK: CATEGORY_UNI_LINEBREAK</span><span class="s4">,</span><span class="s1"> 
    CATEGORY_NOT_LINEBREAK: CATEGORY_UNI_NOT_LINEBREAK 
} 
 
</span><span class="s0"># flags</span><span class="s1"> 
SRE_FLAG_TEMPLATE = </span><span class="s3">1 </span><span class="s0"># template mode (disable backtracking)</span><span class="s1"> 
SRE_FLAG_IGNORECASE = </span><span class="s3">2 </span><span class="s0"># case insensitive</span><span class="s1"> 
SRE_FLAG_LOCALE = </span><span class="s3">4 </span><span class="s0"># honour system locale</span><span class="s1"> 
SRE_FLAG_MULTILINE = </span><span class="s3">8 </span><span class="s0"># treat target as multiline string</span><span class="s1"> 
SRE_FLAG_DOTALL = </span><span class="s3">16 </span><span class="s0"># treat target as a single string</span><span class="s1"> 
SRE_FLAG_UNICODE = </span><span class="s3">32 </span><span class="s0"># use unicode &quot;locale&quot;</span><span class="s1"> 
SRE_FLAG_VERBOSE = </span><span class="s3">64 </span><span class="s0"># ignore whitespace and comments</span><span class="s1"> 
SRE_FLAG_DEBUG = </span><span class="s3">128 </span><span class="s0"># debugging</span><span class="s1"> 
SRE_FLAG_ASCII = </span><span class="s3">256 </span><span class="s0"># use ascii &quot;locale&quot;</span><span class="s1"> 
 
</span><span class="s0"># flags for INFO primitive</span><span class="s1"> 
SRE_INFO_PREFIX = </span><span class="s3">1 </span><span class="s0"># has prefix</span><span class="s1"> 
SRE_INFO_LITERAL = </span><span class="s3">2 </span><span class="s0"># entire pattern is literal (given by prefix)</span><span class="s1"> 
SRE_INFO_CHARSET = </span><span class="s3">4 </span><span class="s0"># pattern starts with character from given set</span><span class="s1"> 
 
</span><span class="s4">if </span><span class="s1">__name__ == </span><span class="s5">&quot;__main__&quot;</span><span class="s1">: 
    </span><span class="s4">def </span><span class="s1">dump(f</span><span class="s4">, </span><span class="s1">d</span><span class="s4">, </span><span class="s1">prefix): 
        items = sorted(d) 
        </span><span class="s4">for </span><span class="s1">item </span><span class="s4">in </span><span class="s1">items: 
            f.write(</span><span class="s5">&quot;#define %s_%s %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% (prefix</span><span class="s4">, </span><span class="s1">item</span><span class="s4">, </span><span class="s1">item)) 
    </span><span class="s4">with </span><span class="s1">open(</span><span class="s5">&quot;sre_constants.h&quot;</span><span class="s4">, </span><span class="s5">&quot;w&quot;</span><span class="s1">) </span><span class="s4">as </span><span class="s1">f: 
        f.write(</span><span class="s5">&quot;&quot;&quot;</span><span class="s4">\ 
</span><span class="s5">/* 
 * Secret Labs' Regular Expression Engine 
 * 
 * regular expression matching engine 
 * 
 * NOTE: This file is generated by sre_constants.py.  If you need 
 * to change anything in here, edit sre_constants.py and run it. 
 * 
 * Copyright (c) 1997-2001 by Secret Labs AB.  All rights reserved. 
 * 
 * See the _sre.c file for information on usage and redistribution. 
 */ 
 
&quot;&quot;&quot;</span><span class="s1">) 
 
        f.write(</span><span class="s5">&quot;#define SRE_MAGIC %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% MAGIC) 
 
        dump(f</span><span class="s4">, </span><span class="s1">OPCODES</span><span class="s4">, </span><span class="s5">&quot;SRE_OP&quot;</span><span class="s1">) 
        dump(f</span><span class="s4">, </span><span class="s1">ATCODES</span><span class="s4">, </span><span class="s5">&quot;SRE&quot;</span><span class="s1">) 
        dump(f</span><span class="s4">, </span><span class="s1">CHCODES</span><span class="s4">, </span><span class="s5">&quot;SRE&quot;</span><span class="s1">) 
 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_TEMPLATE %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_TEMPLATE) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_IGNORECASE %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_IGNORECASE) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_LOCALE %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_LOCALE) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_MULTILINE %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_MULTILINE) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_DOTALL %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_DOTALL) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_UNICODE %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_UNICODE) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_VERBOSE %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_VERBOSE) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_DEBUG %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_DEBUG) 
        f.write(</span><span class="s5">&quot;#define SRE_FLAG_ASCII %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_FLAG_ASCII) 
 
        f.write(</span><span class="s5">&quot;#define SRE_INFO_PREFIX %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_INFO_PREFIX) 
        f.write(</span><span class="s5">&quot;#define SRE_INFO_LITERAL %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_INFO_LITERAL) 
        f.write(</span><span class="s5">&quot;#define SRE_INFO_CHARSET %d</span><span class="s4">\n</span><span class="s5">&quot; </span><span class="s1">% SRE_INFO_CHARSET) 
 
    print(</span><span class="s5">&quot;done&quot;</span><span class="s1">) 
</span></pre>
</body>
</html>